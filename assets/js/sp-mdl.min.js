"use strict";function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,i){for(var n=0;n<i.length;n++){var t=i[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,i,n){return i&&_defineProperties(e.prototype,i),n&&_defineProperties(e,n),e}var MDL=function(){function l(e){var i=e.debug,n=void 0!==i&&i,t=e.isEU,o=void 0!==t&&t,a=e.i18n,d=void 0!==a&&a;_classCallCheck(this,l),this.debug=n,this.isEU=o,this.i18n=d}return _createClass(l,[{key:"_init",value:function(){this._debugLog("_init() =>",this),this._initTriggers()}},{key:"_debugLog",value:function(){if(this.debug){for(var e,i=arguments.length,n=new Array(i),t=0;t<i;t++)n[t]=arguments[t];(e=console).log.apply(e,["ðŸ¦„ MDL:"].concat(n))}}},{key:"_initTriggers",value:function(){this._debugLog("_initTriggers()"),jQuery(".mdl-js-bookmark-this").on("click",function(e){var i=window.location.href,n=document.title;if("addToHomescreen"in window&&addToHomescreen.isCompatible)addToHomescreen({autostart:!1,startDelay:0}).show(!0);else if(window.sidebar&&window.sidebar.addPanel)window.sidebar.addPanel(n,i,"");else{if(window.sidebar&&/Firefox/i.test(navigator.userAgent)||window.opera&&window.print)return jQuery(this).attr({href:i,title:n,rel:"sidebar"}).off(e),!0;if(window.external&&"AddFavorite"in window.external)window.external.AddFavorite(i,n);else{window.MDL._debugLog("This is ".concat(10," times easier!")),setTimeout(function(){var e=/Mac/i.test(navigator.platform)?"Cmd":"Ctrl",i=window.MDL.i18n["bookmark-alert"].replace("%s",e);alert(i)},500)}}return!1}),jQuery(".js-sp-mdl-comment-textearea").not("active").on("keyup input",function(){setTimeout(function(){jQuery(".js-sp-mdl-comment-fields").slideDown("slow")},300)}).addClass("active"),jQuery.each(jQuery("textarea[data-autoresize]"),function(){var i=this.offsetHeight-this.clientHeight;jQuery(this).on("keyup input",function(){!function(e){jQuery(e).css("height","auto").css("height",e.scrollHeight+i)}(this)}).removeAttr("data-autoresize")})}},{key:"_GET",value:function(e,i){i=i||window.location.href,this._debugLog("_GET() => ",e,i);var t={};return i.replace(location.hash,"").replace(/[?&]+([^=&]+)=?([^&]*)?/gi,function(e,i,n){t[i]=void 0!==n?n:""}),e?t[e]?t[e]:null:t}},{key:"decodeHTML",value:function(e){var i=document.createElement("textarea");return i.innerHTML=e,i.value}},{key:"popup_showLoading",value:function(){jQuery(".loading-container").remove(),jQuery('<div id="orrsLoader" class="loading-container"><div><div class="mdl-spinner mdl-js-spinner is-active"></div></div></div>').appendTo("body"),componentHandler.upgradeElements(jQuery(".mdl-spinner").get()),setTimeout(function(){jQuery("#orrsLoader").css({opacity:1})},1)}},{key:"popup_hideLoading",value:function(){jQuery("#orrsLoader").css({opacity:0}),setTimeout(function(){jQuery("#orrsLoader").remove()},400)}},{key:"popup_showDialog",value:function(i){(i=jQuery.extend({id:"mdl-popup-dialog",title:null,text:null,neutral:!1,negative:!1,positive:!1,cancelable:!0,contentStyle:null,onLoaded:!1,onHidden:!1,hideOther:!0},i)).hideOther&&(jQuery(".dialog-container").remove(),jQuery(document).unbind("keyup.dialog")),jQuery('<div id="'+i.id+'" class="dialog-container"><div class="mdl-card mdl-shadow--16dp" id="'+i.id+'_content"></div></div>').appendTo("body");var n=jQuery("#"+i.id),e=n.find(".mdl-card");if(null!=i.contentStyle&&e.css(i.contentStyle),null!=i.title&&jQuery("<h5>"+i.title+"</h5>").appendTo(e),null!=i.text&&jQuery("<p>"+i.text+"</p>").appendTo(e),i.neutral||i.negative||i.positive){var t=jQuery('<div class="mdl-card__actions dialog-button-bar"></div>');if(i.neutral){i.neutral=jQuery.extend({id:"neutral",title:"Neutral",onClick:null},i.neutral);var o=jQuery('<button class="mdl-button mdl-js-button mdl-js-ripple-effect" id="'+i.neutral.id+'">'+i.neutral.title+"</button>");o.click(function(e){e.preventDefault(),null!=i.neutral.onClick&&i.neutral.onClick(e)||window.MDL.popup_hideDialog(n,i.onHidden)}),o.appendTo(t)}if(i.negative){i.negative=jQuery.extend({id:"negative",title:"Cancel",onClick:null},i.negative);var a=jQuery('<button class="mdl-button mdl-js-button mdl-js-ripple-effect" id="'+i.negative.id+'">'+i.negative.title+"</button>");a.click(function(e){e.preventDefault(),null!=i.negative.onClick&&i.negative.onClick(e)||window.MDL.popup_hideDialog(n,i.onHidden)}),a.appendTo(t)}if(i.positive){i.positive=jQuery.extend({id:"positive",title:"OK",onClick:null},i.positive);var d=jQuery('<button class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" id="'+i.positive.id+'">'+i.positive.title+"</button>");d.click(function(e){e.preventDefault(),null!=i.positive.onClick&&i.positive.onClick(e)||window.MDL.popup_hideDialog(n,i.onHidden)}),d.appendTo(t)}t.appendTo(e)}componentHandler.upgradeDom(),i.cancelable&&(n.click(function(){window.MDL.popup_hideDialog(n,i.onHidden)}),jQuery(document).bind("keyup.dialog",function(e){27==e.which&&window.MDL.popup_hideDialog(n,i.onHidden)}),e.click(function(e){e.stopPropagation()})),setTimeout(function(){n.css({opacity:1}),i.onLoaded&&i.onLoaded()},1)}},{key:"popup_hideDialog",value:function(e,i){jQuery(document).unbind("keyup.dialog"),e.css({opacity:0}),setTimeout(function(){e.remove(),i&&i()},400)}}]),l}();window.MDL=new MDL(window.MDL_CONFIG),window.MDL._init();